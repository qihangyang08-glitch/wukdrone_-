
---

# 📝 WuK 项目进度日志 (Work Log)

**日期：** 2025年12月6日
**状态：** ✅ 数据分析与可视化闭环完成
**里程碑：** **自动化测试分析系统上线**

**进度摘要：**
1.  **仿真环境验证：** 确认了 SITL + Gazebo 环境下“变构-坠毁”物理逻辑的有效性。
2.  **数据工具链开发：**
    *   开发了 **C++ 日志解析器 (`wuk_log_parser`)**，用于从 DataFlash 二进制/文本日志中高效提取变构相关的核心数据（倾转角、推力变化、姿态）。
    *   开发了 **Python 绘图脚本 (`wuk_plot.py`)**，实现了自动化生成英文标签的趋势图（PNG格式）。
3.  **当前能力：** 现在每次仿真结束后，可立即生成 `Tilt`（倾转角）、`Thrust Delta`（推力差）、`Vertical Velocity`（垂直速度）等关键指标曲线，为后续飞控算法（如油门补偿、姿态前馈）提供量化依据。

---

### 💻 常用指令速查 (Command Cheat Sheet)

**1. 编译/重建解析器 (Build Parser)**
*当修改了 C++ 解析逻辑后执行：*
```bash
g++ wuk_log_parser.cpp -o tools/wuk_log_parser
```

**2. 解析日志数据 (Parse Log)**
*将仿真生成的原始日志转换为 CSV 数据表和摘要：*
```bash
# 请将 wuk_gb.log 替换为实际的日志文件名 (如 logs/000001.BIN 或 .log)
./tools/wuk_log_parser wuk_gb.log
```
*   *输出产物：`wuk_parsed.csv` (时序数据), `wuk_summary.txt` (统计摘要)*

**3. 生成分析图表 (Generate Plots)**
*读取 CSV 并生成四张关键趋势图：*
```bash
python3 wuk_plot.py wuk_parsed.csv
```
*   *输出产物：*
    *   `wuk_tilt.png` (变构角度变化)
    *   `wuk_thrust_delta.png` (推力波动分析)
    *   `wuk_total_vertical.png` (垂直运动状态)
    *   `wuk_attitude.png` (姿态稳定性分析)

---

**接下来的任务：**
有了这套工具，下一步我们将编写 ArduPilot 核心代码，引入**平滑变构控制**，并利用这些图表来对比“控制前 vs 控制后”的效果差异。
